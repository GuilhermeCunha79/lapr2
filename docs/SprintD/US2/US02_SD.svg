<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1647px" preserveAspectRatio="none" style="width:1448px;height:1647px;" version="1.1" viewBox="0 0 1448 1647" width="1448px" zoomAndPan="magnify"><defs><filter height="300%" id="f1665b2vckok1h" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1665b2vckok1h)" height="348.8125" style="stroke:#A80036;stroke-width:1.0;" width="10" x="420" y="121.9609"/><rect fill="#FFFFFF" filter="url(#f1665b2vckok1h)" height="121.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="420" y="542.8281"/><rect fill="#FFFFFF" filter="url(#f1665b2vckok1h)" height="423.5156" style="stroke:#A80036;stroke-width:1.0;" width="10" x="420" y="694.2344"/><rect fill="#FFFFFF" filter="url(#f1665b2vckok1h)" height="164.4063" style="stroke:#A80036;stroke-width:1.0;" width="10" x="420" y="1372.5078"/><rect fill="#FFFFFF" filter="url(#f1665b2vckok1h)" height="271.7578" style="stroke:#A80036;stroke-width:1.0;" width="10" x="593.5" y="152.3125"/><rect fill="#FFFFFF" filter="url(#f1665b2vckok1h)" height="60.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="593.5" y="573.1797"/><rect fill="#FFFFFF" filter="url(#f1665b2vckok1h)" height="610.5703" style="stroke:#A80036;stroke-width:1.0;" width="10" x="593.5" y="724.5859"/><rect fill="#FFFFFF" filter="url(#f1665b2vckok1h)" height="96.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="593.5" y="1402.8594"/><rect fill="#FFFFFF" filter="url(#f1665b2vckok1h)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="749.5" y="182.6641"/><rect fill="#FFFFFF" filter="url(#f1665b2vckok1h)" height="181.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="873.5" y="243.0156"/><rect fill="#FFFFFF" filter="url(#f1665b2vckok1h)" height="60.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="873.5" y="754.9375"/><rect fill="#FFFFFF" filter="url(#f1665b2vckok1h)" height="60.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="873.5" y="845.6406"/><rect fill="#FFFFFF" filter="url(#f1665b2vckok1h)" height="60.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="873.5" y="936.3438"/><rect fill="#FFFFFF" filter="url(#f1665b2vckok1h)" height="60.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="873.5" y="1027.0469"/><rect fill="#FFFFFF" filter="url(#f1665b2vckok1h)" height="187.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="873.5" y="1148.1016"/><rect fill="#FFFFFF" filter="url(#f1665b2vckok1h)" height="28" style="stroke:#A80036;stroke-width:1.0;" width="10" x="878.5" y="1307.1563"/><rect fill="#FFFFFF" filter="url(#f1665b2vckok1h)" height="66.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="873.5" y="1433.2109"/><rect fill="#FFFFFF" filter="url(#f1665b2vckok1h)" height="28" style="stroke:#A80036;stroke-width:1.0;" width="10" x="878.5" y="1471.5625"/><rect fill="#FFFFFF" filter="url(#f1665b2vckok1h)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1098.5" y="603.5313"/><rect fill="#FFFFFF" filter="url(#f1665b2vckok1h)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1098.5" y="785.2891"/><rect fill="#FFFFFF" filter="url(#f1665b2vckok1h)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1098.5" y="875.9922"/><rect fill="#FFFFFF" filter="url(#f1665b2vckok1h)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1098.5" y="966.6953"/><rect fill="#FFFFFF" filter="url(#f1665b2vckok1h)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1098.5" y="1057.3984"/><rect fill="#FFFFFF" filter="url(#f1665b2vckok1h)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1098.5" y="1178.4531"/><rect fill="#FFFFFF" filter="url(#f1665b2vckok1h)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1171" y="394.0703"/><rect fill="#FFFFFF" filter="url(#f1665b2vckok1h)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1259.5" y="333.7188"/><rect fill="#FFFFFF" filter="url(#f1665b2vckok1h)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1369.5" y="273.3672"/><rect fill="#FFFFFF" filter="url(#f1665b2vckok1h)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1369.5" y="1238.8047"/><rect fill="#FFFFFF" filter="url(#f1665b2vckok1h)" height="1059.1406" style="stroke:#000000;stroke-width:2.0;" width="1424" x="10" y="485.7734"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="41" x2="41" y1="89.6094" y2="1561.9141"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="424.5" x2="424.5" y1="89.6094" y2="1561.9141"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="598.5" x2="598.5" y1="89.6094" y2="1561.9141"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="754.5" x2="754.5" y1="89.6094" y2="1561.9141"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="878.5" x2="878.5" y1="89.6094" y2="1561.9141"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1103" x2="1103" y1="89.6094" y2="1561.9141"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1176" x2="1176" y1="89.6094" y2="1561.9141"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1264" x2="1264" y1="89.6094" y2="1561.9141"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1374" x2="1374" y1="89.6094" y2="1561.9141"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="20" y="86.5332">Client</text><ellipse cx="41" cy="15" fill="#FEFECE" filter="url(#f1665b2vckok1h)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M41,23 L41,50 M28,31 L54,31 M41,50 L28,65 M41,50 L54,65 " fill="none" filter="url(#f1665b2vckok1h)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="20" y="1575.4473">Client</text><ellipse cx="41" cy="1588.5234" fill="#FEFECE" filter="url(#f1665b2vckok1h)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M41,1596.5234 L41,1623.5234 M28,1604.5234 L54,1604.5234 M41,1623.5234 L28,1638.5234 M41,1623.5234 L54,1638.5234 " fill="none" filter="url(#f1665b2vckok1h)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#f1665b2vckok1h)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="123" x="361.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109" x="368.5" y="74.5332">:ClientChangesUI</text><rect fill="#FEFECE" filter="url(#f1665b2vckok1h)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="123" x="361.5" y="1560.9141"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109" x="368.5" y="1582.4473">:ClientChangesUI</text><rect fill="#FEFECE" filter="url(#f1665b2vckok1h)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="196" x="498.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="182" x="505.5" y="74.5332">:ChangeClientDataController</text><rect fill="#FEFECE" filter="url(#f1665b2vckok1h)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="196" x="498.5" y="1560.9141"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="182" x="505.5" y="1582.4473">:ChangeClientDataController</text><rect fill="#FEFECE" filter="url(#f1665b2vckok1h)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="78" x="713.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64" x="720.5" y="74.5332">:Company</text><rect fill="#FEFECE" filter="url(#f1665b2vckok1h)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="78" x="713.5" y="1560.9141"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64" x="720.5" y="1582.4473">:Company</text><rect fill="#FEFECE" filter="url(#f1665b2vckok1h)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="120" x="816.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106" x="823.5" y="74.5332">store:ClientStore</text><rect fill="#FEFECE" filter="url(#f1665b2vckok1h)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="120" x="816.5" y="1560.9141"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106" x="823.5" y="1582.4473">store:ClientStore</text><rect fill="#FEFECE" filter="url(#f1665b2vckok1h)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="65" x="1069" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51" x="1076" y="74.5332">ct:Client</text><rect fill="#FEFECE" filter="url(#f1665b2vckok1h)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="65" x="1069" y="1560.9141"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51" x="1076" y="1582.4473">ct:Client</text><rect fill="#FEFECE" filter="url(#f1665b2vckok1h)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="52" x="1148" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38" x="1155" y="74.5332">:Email</text><rect fill="#FEFECE" filter="url(#f1665b2vckok1h)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="52" x="1148" y="1560.9141"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38" x="1155" y="1582.4473">:Email</text><rect fill="#FEFECE" filter="url(#f1665b2vckok1h)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="97" x="1214" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83" x="1221" y="74.5332">:UserSession</text><rect fill="#FEFECE" filter="url(#f1665b2vckok1h)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="97" x="1214" y="1560.9141"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83" x="1221" y="1582.4473">:UserSession</text><rect fill="#FEFECE" filter="url(#f1665b2vckok1h)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="95" x="1325" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81" x="1332" y="74.5332">:AuthFacade</text><rect fill="#FEFECE" filter="url(#f1665b2vckok1h)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="95" x="1325" y="1560.9141"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81" x="1332" y="1582.4473">:AuthFacade</text><rect fill="#FFFFFF" filter="url(#f1665b2vckok1h)" height="348.8125" style="stroke:#A80036;stroke-width:1.0;" width="10" x="420" y="121.9609"/><rect fill="#FFFFFF" filter="url(#f1665b2vckok1h)" height="121.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="420" y="542.8281"/><rect fill="#FFFFFF" filter="url(#f1665b2vckok1h)" height="423.5156" style="stroke:#A80036;stroke-width:1.0;" width="10" x="420" y="694.2344"/><rect fill="#FFFFFF" filter="url(#f1665b2vckok1h)" height="164.4063" style="stroke:#A80036;stroke-width:1.0;" width="10" x="420" y="1372.5078"/><rect fill="#FFFFFF" filter="url(#f1665b2vckok1h)" height="271.7578" style="stroke:#A80036;stroke-width:1.0;" width="10" x="593.5" y="152.3125"/><rect fill="#FFFFFF" filter="url(#f1665b2vckok1h)" height="60.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="593.5" y="573.1797"/><rect fill="#FFFFFF" filter="url(#f1665b2vckok1h)" height="610.5703" style="stroke:#A80036;stroke-width:1.0;" width="10" x="593.5" y="724.5859"/><rect fill="#FFFFFF" filter="url(#f1665b2vckok1h)" height="96.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="593.5" y="1402.8594"/><rect fill="#FFFFFF" filter="url(#f1665b2vckok1h)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="749.5" y="182.6641"/><rect fill="#FFFFFF" filter="url(#f1665b2vckok1h)" height="181.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="873.5" y="243.0156"/><rect fill="#FFFFFF" filter="url(#f1665b2vckok1h)" height="60.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="873.5" y="754.9375"/><rect fill="#FFFFFF" filter="url(#f1665b2vckok1h)" height="60.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="873.5" y="845.6406"/><rect fill="#FFFFFF" filter="url(#f1665b2vckok1h)" height="60.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="873.5" y="936.3438"/><rect fill="#FFFFFF" filter="url(#f1665b2vckok1h)" height="60.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="873.5" y="1027.0469"/><rect fill="#FFFFFF" filter="url(#f1665b2vckok1h)" height="187.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="873.5" y="1148.1016"/><rect fill="#FFFFFF" filter="url(#f1665b2vckok1h)" height="28" style="stroke:#A80036;stroke-width:1.0;" width="10" x="878.5" y="1307.1563"/><rect fill="#FFFFFF" filter="url(#f1665b2vckok1h)" height="66.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="873.5" y="1433.2109"/><rect fill="#FFFFFF" filter="url(#f1665b2vckok1h)" height="28" style="stroke:#A80036;stroke-width:1.0;" width="10" x="878.5" y="1471.5625"/><rect fill="#FFFFFF" filter="url(#f1665b2vckok1h)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1098.5" y="603.5313"/><rect fill="#FFFFFF" filter="url(#f1665b2vckok1h)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1098.5" y="785.2891"/><rect fill="#FFFFFF" filter="url(#f1665b2vckok1h)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1098.5" y="875.9922"/><rect fill="#FFFFFF" filter="url(#f1665b2vckok1h)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1098.5" y="966.6953"/><rect fill="#FFFFFF" filter="url(#f1665b2vckok1h)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1098.5" y="1057.3984"/><rect fill="#FFFFFF" filter="url(#f1665b2vckok1h)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1098.5" y="1178.4531"/><rect fill="#FFFFFF" filter="url(#f1665b2vckok1h)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1171" y="394.0703"/><rect fill="#FFFFFF" filter="url(#f1665b2vckok1h)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1259.5" y="333.7188"/><rect fill="#FFFFFF" filter="url(#f1665b2vckok1h)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1369.5" y="273.3672"/><rect fill="#FFFFFF" filter="url(#f1665b2vckok1h)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1369.5" y="1238.8047"/><polygon fill="#A80036" points="408,117.9609,418,121.9609,408,125.9609,412,121.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="41" x2="414" y1="121.9609" y2="121.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="124" x="48" y="117.1045">change personal data</text><polygon fill="#A80036" points="581.5,148.3125,591.5,152.3125,581.5,156.3125,585.5,152.3125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="430" x2="587.5" y1="152.3125" y2="152.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108" x="437" y="147.4561">getClientByEmail()</text><polygon fill="#A80036" points="737.5,178.6641,747.5,182.6641,737.5,186.6641,741.5,182.6641" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="603.5" x2="743.5" y1="182.6641" y2="182.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127" x="610.5" y="177.8076">store=getClientStore()</text><polygon fill="#A80036" points="861.5,239.0156,871.5,243.0156,861.5,247.0156,865.5,243.0156" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="603.5" x2="867.5" y1="243.0156" y2="243.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155" x="610.5" y="238.1592">client = getClientByEmail()</text><polygon fill="#A80036" points="1357.5,269.3672,1367.5,273.3672,1357.5,277.3672,1361.5,273.3672" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="883.5" x2="1363.5" y1="273.3672" y2="273.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="181" x="890.5" y="268.5107">emailUser=getCurrentSession()</text><polygon fill="#A80036" points="1247.5,329.7188,1257.5,333.7188,1247.5,337.7188,1251.5,333.7188" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="883.5" x2="1253.5" y1="333.7188" y2="333.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89" x="890.5" y="328.8623">id = getUserId()</text><polygon fill="#A80036" points="1159,390.0703,1169,394.0703,1159,398.0703,1163,394.0703" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="883.5" x2="1165" y1="394.0703" y2="394.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="890.5" y="389.2139">email = getEmail()</text><polygon fill="#A80036" points="52,466.7734,42,470.7734,52,474.7734,48,470.7734" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="46" x2="424" y1="470.7734" y2="470.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="285" x="58" y="449.5654">shows the registration form with the previous data</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="255" x="62" y="465.917">and ask to select the type of data to change</text><path d="M10,485.7734 L83,485.7734 L83,493.7734 L73,503.7734 L10,503.7734 L10,485.7734 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="1059.1406" style="stroke:#000000;stroke-width:2.0;" width="1424" x="10" y="485.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="25" y="500.2686">loop</text><polygon fill="#A80036" points="408,538.8281,418,542.8281,408,546.8281,412,542.8281" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="41" x2="414" y1="542.8281" y2="542.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="231" x="48" y="521.6201">select the type of data that is to validate</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="193" x="48" y="537.9717">(ex. nhs number, tin number, ect)</text><polygon fill="#A80036" points="581.5,569.1797,591.5,573.1797,581.5,577.1797,585.5,573.1797" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="430" x2="587.5" y1="573.1797" y2="573.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96" x="437" y="568.3232">showData(client)</text><polygon fill="#A80036" points="1086.5,599.5313,1096.5,603.5313,1086.5,607.5313,1090.5,603.5313" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="603.5" x2="1092.5" y1="603.5313" y2="603.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53" x="610.5" y="598.6748">toString()</text><polygon fill="#A80036" points="52,659.8828,42,663.8828,52,667.8828,48,663.8828" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="46" x2="424" y1="663.8828" y2="663.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="231" x="58" y="659.0264">shows the type of data registered before</text><polygon fill="#A80036" points="408,690.2344,418,694.2344,408,698.2344,412,694.2344" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="41" x2="414" y1="694.2344" y2="694.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="191" x="48" y="689.3779">writes the changes that he wants</text><polygon fill="#A80036" points="581.5,720.5859,591.5,724.5859,581.5,728.5859,585.5,724.5859" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="430" x2="587.5" y1="724.5859" y2="724.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108" x="437" y="719.7295">changeData(client)</text><polygon fill="#A80036" points="861.5,750.9375,871.5,754.9375,861.5,758.9375,865.5,754.9375" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="603.5" x2="867.5" y1="754.9375" y2="754.9375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155" x="610.5" y="750.0811">changeName(client, name)</text><polygon fill="#A80036" points="1086.5,781.2891,1096.5,785.2891,1086.5,789.2891,1090.5,785.2891" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="883.5" x2="1092.5" y1="785.2891" y2="785.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100" x="890.5" y="780.4326">name=setName()</text><polygon fill="#A80036" points="861.5,841.6406,871.5,845.6406,861.5,849.6406,865.5,845.6406" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="603.5" x2="867.5" y1="845.6406" y2="845.6406"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133" x="610.5" y="840.7842">changeSex(client, sex)</text><polygon fill="#A80036" points="1086.5,871.9922,1096.5,875.9922,1086.5,879.9922,1090.5,875.9922" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="883.5" x2="1092.5" y1="875.9922" y2="875.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="890.5" y="871.1357">sex=setSex()</text><polygon fill="#A80036" points="861.5,932.3438,871.5,936.3438,861.5,940.3438,865.5,936.3438" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="603.5" x2="867.5" y1="936.3438" y2="936.3438"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="251" x="610.5" y="931.4873">changePhoneNumber(client, phoneNumber)</text><polygon fill="#A80036" points="1086.5,962.6953,1096.5,966.6953,1086.5,970.6953,1090.5,966.6953" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="883.5" x2="1092.5" y1="966.6953" y2="966.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="196" x="890.5" y="961.8389">phoneNumber=setPhoneNumber()</text><polygon fill="#A80036" points="861.5,1023.0469,871.5,1027.0469,861.5,1031.0469,865.5,1027.0469" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="603.5" x2="867.5" y1="1027.0469" y2="1027.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="183" x="610.5" y="1022.1904">changeAddress(client, address)</text><polygon fill="#A80036" points="1086.5,1053.3984,1096.5,1057.3984,1086.5,1061.3984,1090.5,1057.3984" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="883.5" x2="1092.5" y1="1057.3984" y2="1057.3984"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128" x="890.5" y="1052.542">address=setAddress()</text><polygon fill="#A80036" points="52,1113.75,42,1117.75,52,1121.75,48,1117.75" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="46" x2="424" y1="1117.75" y2="1117.75"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="355" x="58" y="1112.8936">shows the updated registration form and asks for confirmation</text><polygon fill="#A80036" points="861.5,1144.1016,871.5,1148.1016,861.5,1152.1016,865.5,1148.1016" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="603.5" x2="867.5" y1="1148.1016" y2="1148.1016"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115" x="610.5" y="1143.2451">validateClient(client)</text><polygon fill="#A80036" points="1086.5,1174.4531,1096.5,1178.4531,1086.5,1182.4531,1090.5,1178.4531" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="883.5" x2="1092.5" y1="1178.4531" y2="1178.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98" x="890.5" y="1173.5967">email=getEmail()</text><polygon fill="#A80036" points="1357.5,1234.8047,1367.5,1238.8047,1357.5,1242.8047,1361.5,1238.8047" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="883.5" x2="1363.5" y1="1238.8047" y2="1238.8047"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="124" x="890.5" y="1233.9482">b = existsUser(email)</text><line style="stroke:#A80036;stroke-width:1.0;" x1="888.5" x2="930.5" y1="1299.1563" y2="1299.1563"/><line style="stroke:#A80036;stroke-width:1.0;" x1="930.5" x2="930.5" y1="1299.1563" y2="1312.1563"/><line style="stroke:#A80036;stroke-width:1.0;" x1="889.5" x2="930.5" y1="1312.1563" y2="1312.1563"/><polygon fill="#A80036" points="899.5,1308.1563,889.5,1312.1563,899.5,1316.1563,895.5,1312.1563" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135" x="895.5" y="1294.2998">checkDuplicates(client)</text><polygon fill="#A80036" points="408,1368.5078,418,1372.5078,408,1376.5078,412,1372.5078" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="41" x2="414" y1="1372.5078" y2="1372.5078"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100" x="48" y="1367.6514">confirms the data</text><polygon fill="#A80036" points="581.5,1398.8594,591.5,1402.8594,581.5,1406.8594,585.5,1402.8594" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="430" x2="587.5" y1="1402.8594" y2="1402.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="85" x="437" y="1398.0029">saveChanges()</text><polygon fill="#A80036" points="861.5,1429.2109,871.5,1433.2109,861.5,1437.2109,865.5,1433.2109" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="603.5" x2="867.5" y1="1433.2109" y2="1433.2109"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116" x="610.5" y="1428.3545">saveChanges(client)</text><line style="stroke:#A80036;stroke-width:1.0;" x1="888.5" x2="930.5" y1="1463.5625" y2="1463.5625"/><line style="stroke:#A80036;stroke-width:1.0;" x1="930.5" x2="930.5" y1="1463.5625" y2="1476.5625"/><line style="stroke:#A80036;stroke-width:1.0;" x1="889.5" x2="930.5" y1="1476.5625" y2="1476.5625"/><polygon fill="#A80036" points="899.5,1472.5625,889.5,1476.5625,899.5,1480.5625,895.5,1476.5625" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115" x="895.5" y="1458.7061">validateClient(client)</text><polygon fill="#A80036" points="52,1532.9141,42,1536.9141,52,1540.9141,48,1536.9141" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="46" x2="424" y1="1536.9141" y2="1536.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="58" y="1532.0576">informs operation success</text><!--MD5=[8cc76149540d9ef76793caa41d8d1239]
@startuml
'https://plantuml.com/sequence-diagram

actor Client as CLT
participant ":ClientChangesUI" as UI
participant ":ChangeClientDataController" as CTRL
participant ":Company" as COMP
participant "store:ClientStore" as STR
participant "ct:Client" as CL
participant ":Email" as EM
participant ":UserSession" as US
participant ":AuthFacade" as AF

CLT -> UI : change personal data
activate UI
UI-> CTRL : getClientByEmail()
activate CTRL
CTRL-> COMP : store=getClientStore()
activate COMP
deactivate COMP
CTRL->STR : client = getClientByEmail()
activate STR
STR-> AF :emailUser=getCurrentSession()
activate AF
deactivate AF
STR -> US : id = getUserId()
activate US
deactivate US


STR->EM: email = getEmail()
activate EM
deactivate EM
deactivate STR


deactivate STR


deactivate CTRL



UI- -> CLT : shows the registration form with the previous data \n and ask to select the type of data to change


deactivate UI








loop
CLT -> UI : select the type of data that is to validate\n(ex. nhs number, tin number, ect)
activate UI
UI-> CTRL : showData(client)
activate CTRL
CTRL->CL : toString()
activate CL
deactivate CL
deactivate CTRL
UI- -> CLT : shows the type of data registered before

deactivate UI

CLT -> UI : writes the changes that he wants
activate UI
UI-> CTRL : changeData(client)
activate CTRL

CTRL->STR :changeName(client, name)
activate STR
STR->CL : name=setName()
activate CL
deactivate CL
deactivate STR

CTRL->STR :changeSex(client, sex)
activate STR
STR->CL : sex=setSex()
activate CL
deactivate CL
deactivate STR


CTRL->STR :changePhoneNumber(client, phoneNumber)
activate STR
STR->CL : phoneNumber=setPhoneNumber()
activate CL
deactivate CL
deactivate STR

CTRL->STR :changeAddress(client, address)
activate STR
STR->CL : address=setAddress()
activate CL
deactivate CL
deactivate STR

UI- -> CLT : shows the updated registration form and asks for confirmation
deactivate UI
CTRL -> STR : validateClient(client)

        activate STR
        STR -> CL : email=getEmail()
        activate CL
        deactivate CL
        STR -> AF : b = existsUser(email)
        activate AF
        deactivate AF
        STR -> STR : checkDuplicates(client)
        activate STR
        deactivate STR
        deactivate STR
        deactivate CTRL



CLT -> UI : confirms the data
activate UI
UI-> CTRL : saveChanges()
activate CTRL
CTRL-> STR : saveChanges(client)
activate STR
STR->STR : validateClient(client)
activate STR
deactivate STR
deactivate STR
deactivate CTRL

UI- -> CLT : informs operation success
deactivate UI
end

@enduml

@startuml

actor Client as CLT
participant ":ClientChangesUI" as UI
participant ":ChangeClientDataController" as CTRL
participant ":Company" as COMP
participant "store:ClientStore" as STR
participant "ct:Client" as CL
participant ":Email" as EM
participant ":UserSession" as US
participant ":AuthFacade" as AF

CLT -> UI : change personal data
activate UI
UI-> CTRL : getClientByEmail()
activate CTRL
CTRL-> COMP : store=getClientStore()
activate COMP
deactivate COMP
CTRL->STR : client = getClientByEmail()
activate STR
STR-> AF :emailUser=getCurrentSession()
activate AF
deactivate AF
STR -> US : id = getUserId()
activate US
deactivate US


STR->EM: email = getEmail()
activate EM
deactivate EM
deactivate STR


deactivate STR


deactivate CTRL



UI- -> CLT : shows the registration form with the previous data \n and ask to select the type of data to change


deactivate UI








loop
CLT -> UI : select the type of data that is to validate\n(ex. nhs number, tin number, ect)
activate UI
UI-> CTRL : showData(client)
activate CTRL
CTRL->CL : toString()
activate CL
deactivate CL
deactivate CTRL
UI- -> CLT : shows the type of data registered before

deactivate UI

CLT -> UI : writes the changes that he wants
activate UI
UI-> CTRL : changeData(client)
activate CTRL

CTRL->STR :changeName(client, name)
activate STR
STR->CL : name=setName()
activate CL
deactivate CL
deactivate STR

CTRL->STR :changeSex(client, sex)
activate STR
STR->CL : sex=setSex()
activate CL
deactivate CL
deactivate STR


CTRL->STR :changePhoneNumber(client, phoneNumber)
activate STR
STR->CL : phoneNumber=setPhoneNumber()
activate CL
deactivate CL
deactivate STR

CTRL->STR :changeAddress(client, address)
activate STR
STR->CL : address=setAddress()
activate CL
deactivate CL
deactivate STR

UI- -> CLT : shows the updated registration form and asks for confirmation
deactivate UI
CTRL -> STR : validateClient(client)

        activate STR
        STR -> CL : email=getEmail()
        activate CL
        deactivate CL
        STR -> AF : b = existsUser(email)
        activate AF
        deactivate AF
        STR -> STR : checkDuplicates(client)
        activate STR
        deactivate STR
        deactivate STR
        deactivate CTRL



CLT -> UI : confirms the data
activate UI
UI-> CTRL : saveChanges()
activate CTRL
CTRL-> STR : saveChanges(client)
activate STR
STR->STR : validateClient(client)
activate STR
deactivate STR
deactivate STR
deactivate CTRL

UI- -> CLT : informs operation success
deactivate UI
end

@enduml

PlantUML version 1.2021.5(Sun Apr 25 12:20:28 BST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: Dynamic Code Evolution 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>