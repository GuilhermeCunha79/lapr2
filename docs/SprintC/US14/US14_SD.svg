<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1132px" preserveAspectRatio="none" style="width:1610px;height:1132px;" version="1.1" viewBox="0 0 1610 1132" width="1610px" zoomAndPan="magnify"><defs><filter height="300%" id="f114bzgwtk1txj" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f114bzgwtk1txj)" height="258.1094" style="stroke:#A80036;stroke-width:1.0;" width="10" x="370" y="121.9609"/><rect fill="#FFFFFF" filter="url(#f114bzgwtk1txj)" height="211.7578" style="stroke:#A80036;stroke-width:1.0;" width="10" x="370" y="410.4219"/><rect fill="#FFFFFF" filter="url(#f114bzgwtk1txj)" height="121.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="370" y="652.5313"/><rect fill="#FFFFFF" filter="url(#f114bzgwtk1txj)" height="225.1094" style="stroke:#A80036;stroke-width:1.0;" width="10" x="370" y="803.9375"/><rect fill="#FFFFFF" filter="url(#f114bzgwtk1txj)" height="181.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="608" y="152.3125"/><rect fill="#FFFFFF" filter="url(#f114bzgwtk1txj)" height="151.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="608" y="440.7734"/><rect fill="#FFFFFF" filter="url(#f114bzgwtk1txj)" height="60.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="608" y="682.8828"/><rect fill="#FFFFFF" filter="url(#f114bzgwtk1txj)" height="164.4063" style="stroke:#A80036;stroke-width:1.0;" width="10" x="608" y="834.2891"/><rect fill="#FFFFFF" filter="url(#f114bzgwtk1txj)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="799" y="182.6641"/><rect fill="#FFFFFF" filter="url(#f114bzgwtk1txj)" height="60.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="875" y="531.4766"/><rect fill="#FFFFFF" filter="url(#f114bzgwtk1txj)" height="134.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="875" y="864.6406"/><rect fill="#FFFFFF" filter="url(#f114bzgwtk1txj)" height="95.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="880" y="902.9922"/><rect fill="#FFFFFF" filter="url(#f114bzgwtk1txj)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1080" y="713.2344"/><rect fill="#FFFFFF" filter="url(#f114bzgwtk1txj)" height="60.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1080" y="938.3438"/><rect fill="#FFFFFF" filter="url(#f114bzgwtk1txj)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1200.5" y="561.8281"/><rect fill="#FFFFFF" filter="url(#f114bzgwtk1txj)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1330.5" y="243.0156"/><rect fill="#FFFFFF" filter="url(#f114bzgwtk1txj)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1330.5" y="471.125"/><rect fill="#FFFFFF" filter="url(#f114bzgwtk1txj)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1442.5" y="303.3672"/><rect fill="#FFFFFF" filter="url(#f114bzgwtk1txj)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1554" y="968.6953"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="61" x2="61" y1="89.6094" y2="1047.0469"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="375" x2="375" y1="89.6094" y2="1047.0469"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="613" x2="613" y1="89.6094" y2="1047.0469"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="804" x2="804" y1="89.6094" y2="1047.0469"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="880" x2="880" y1="89.6094" y2="1047.0469"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1084.5" x2="1084.5" y1="89.6094" y2="1047.0469"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1205.5" x2="1205.5" y1="89.6094" y2="1047.0469"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1335.5" x2="1335.5" y1="89.6094" y2="1047.0469"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1447.5" x2="1447.5" y1="89.6094" y2="1047.0469"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1558.5" x2="1558.5" y1="89.6094" y2="1047.0469"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106" x="5" y="86.5332">Specialist Doctor</text><ellipse cx="61" cy="15" fill="#FEFECE" filter="url(#f114bzgwtk1txj)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M61,23 L61,50 M48,31 L74,31 M61,50 L48,65 M61,50 L74,65 " fill="none" filter="url(#f114bzgwtk1txj)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106" x="5" y="1060.5801">Specialist Doctor</text><ellipse cx="61" cy="1073.6563" fill="#FEFECE" filter="url(#f114bzgwtk1txj)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M61,1081.6563 L61,1108.6563 M48,1089.6563 L74,1089.6563 M61,1108.6563 L48,1123.6563 M61,1108.6563 L74,1123.6563 " fill="none" filter="url(#f114bzgwtk1txj)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#f114bzgwtk1txj)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="106" x="320" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="92" x="327" y="74.5332">:WriteReportUI</text><rect fill="#FEFECE" filter="url(#f114bzgwtk1txj)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="106" x="320" y="1046.0469"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="92" x="327" y="1067.5801">:WriteReportUI</text><rect fill="#FEFECE" filter="url(#f114bzgwtk1txj)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="156" x="533" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="142" x="540" y="74.5332">:WriteReportController</text><rect fill="#FEFECE" filter="url(#f114bzgwtk1txj)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="156" x="533" y="1046.0469"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="142" x="540" y="1067.5801">:WriteReportController</text><rect fill="#FEFECE" filter="url(#f114bzgwtk1txj)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="78" x="763" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64" x="770" y="74.5332">:Company</text><rect fill="#FEFECE" filter="url(#f114bzgwtk1txj)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="78" x="763" y="1046.0469"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64" x="770" y="1067.5801">:Company</text><rect fill="#FEFECE" filter="url(#f114bzgwtk1txj)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="46" x="855" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="862" y="74.5332">:Test</text><rect fill="#FEFECE" filter="url(#f114bzgwtk1txj)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="46" x="855" y="1046.0469"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="862" y="1067.5801">:Test</text><rect fill="#FEFECE" filter="url(#f114bzgwtk1txj)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="61" x="1052.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47" x="1059.5" y="74.5332">:Report</text><rect fill="#FEFECE" filter="url(#f114bzgwtk1txj)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="61" x="1052.5" y="1046.0469"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47" x="1059.5" y="1067.5801">:Report</text><rect fill="#FEFECE" filter="url(#f114bzgwtk1txj)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="152" x="1127.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="138" x="1134.5" y="74.5332">:TestParameterResult</text><rect fill="#FEFECE" filter="url(#f114bzgwtk1txj)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="152" x="1127.5" y="1046.0469"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="138" x="1134.5" y="1067.5801">:TestParameterResult</text><rect fill="#FEFECE" filter="url(#f114bzgwtk1txj)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="80" x="1293.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="1300.5" y="74.5332">:TestStore</text><rect fill="#FEFECE" filter="url(#f114bzgwtk1txj)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="80" x="1293.5" y="1046.0469"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="1300.5" y="1067.5801">:TestStore</text><rect fill="#FEFECE" filter="url(#f114bzgwtk1txj)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="116" x="1387.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="1394.5" y="74.5332">:TestListMapper</text><rect fill="#FEFECE" filter="url(#f114bzgwtk1txj)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="116" x="1387.5" y="1046.0469"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="1394.5" y="1067.5801">:TestListMapper</text><rect fill="#FEFECE" filter="url(#f114bzgwtk1txj)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="79" x="1517.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65" x="1524.5" y="74.5332">:DateTime</text><rect fill="#FEFECE" filter="url(#f114bzgwtk1txj)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="79" x="1517.5" y="1046.0469"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65" x="1524.5" y="1067.5801">:DateTime</text><rect fill="#FFFFFF" filter="url(#f114bzgwtk1txj)" height="258.1094" style="stroke:#A80036;stroke-width:1.0;" width="10" x="370" y="121.9609"/><rect fill="#FFFFFF" filter="url(#f114bzgwtk1txj)" height="211.7578" style="stroke:#A80036;stroke-width:1.0;" width="10" x="370" y="410.4219"/><rect fill="#FFFFFF" filter="url(#f114bzgwtk1txj)" height="121.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="370" y="652.5313"/><rect fill="#FFFFFF" filter="url(#f114bzgwtk1txj)" height="225.1094" style="stroke:#A80036;stroke-width:1.0;" width="10" x="370" y="803.9375"/><rect fill="#FFFFFF" filter="url(#f114bzgwtk1txj)" height="181.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="608" y="152.3125"/><rect fill="#FFFFFF" filter="url(#f114bzgwtk1txj)" height="151.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="608" y="440.7734"/><rect fill="#FFFFFF" filter="url(#f114bzgwtk1txj)" height="60.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="608" y="682.8828"/><rect fill="#FFFFFF" filter="url(#f114bzgwtk1txj)" height="164.4063" style="stroke:#A80036;stroke-width:1.0;" width="10" x="608" y="834.2891"/><rect fill="#FFFFFF" filter="url(#f114bzgwtk1txj)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="799" y="182.6641"/><rect fill="#FFFFFF" filter="url(#f114bzgwtk1txj)" height="60.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="875" y="531.4766"/><rect fill="#FFFFFF" filter="url(#f114bzgwtk1txj)" height="134.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="875" y="864.6406"/><rect fill="#FFFFFF" filter="url(#f114bzgwtk1txj)" height="95.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="880" y="902.9922"/><rect fill="#FFFFFF" filter="url(#f114bzgwtk1txj)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1080" y="713.2344"/><rect fill="#FFFFFF" filter="url(#f114bzgwtk1txj)" height="60.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1080" y="938.3438"/><rect fill="#FFFFFF" filter="url(#f114bzgwtk1txj)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1200.5" y="561.8281"/><rect fill="#FFFFFF" filter="url(#f114bzgwtk1txj)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1330.5" y="243.0156"/><rect fill="#FFFFFF" filter="url(#f114bzgwtk1txj)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1330.5" y="471.125"/><rect fill="#FFFFFF" filter="url(#f114bzgwtk1txj)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1442.5" y="303.3672"/><rect fill="#FFFFFF" filter="url(#f114bzgwtk1txj)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1554" y="968.6953"/><polygon fill="#A80036" points="358,117.9609,368,121.9609,358,125.9609,362,121.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="61" x2="364" y1="121.9609" y2="121.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="68" y="117.1045">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134" x="79" y="117.1045">Write a report for a test</text><polygon fill="#A80036" points="596,148.3125,606,152.3125,596,156.3125,600,152.3125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="380" x2="602" y1="152.3125" y2="152.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="387" y="147.4561">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="198" x="398" y="147.4561">lTestDto = getTestWithoutReport()</text><polygon fill="#A80036" points="787,178.6641,797,182.6641,787,186.6641,791,182.6641" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="618" x2="793" y1="182.6641" y2="182.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="625" y="177.8076">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151" x="636" y="177.8076">testStore = getTestStore()</text><polygon fill="#A80036" points="1318.5,239.0156,1328.5,243.0156,1318.5,247.0156,1322.5,243.0156" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="618" x2="1324.5" y1="243.0156" y2="243.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="625" y="238.1592">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="232" x="636" y="238.1592">lTestNoReport = getTestWithoutReport()</text><polygon fill="#A80036" points="1430.5,299.3672,1440.5,303.3672,1430.5,307.3672,1434.5,303.3672" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="618" x2="1436.5" y1="303.3672" y2="303.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="625" y="298.5107">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="239" x="636" y="298.5107">lTestNoReportDto = toDto(lTestNoReport)</text><polygon fill="#A80036" points="72,376.0703,62,380.0703,72,384.0703,68,380.0703" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="66" x2="374" y1="380.0703" y2="380.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="78" y="367.0381">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162" x="89" y="358.8623">ask to select one test ready</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="175" x="93" y="375.2139">to receive a report from the list</text><polygon fill="#A80036" points="358,406.4219,368,410.4219,358,414.4219,362,410.4219" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="61" x2="364" y1="410.4219" y2="410.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="68" y="405.5654">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="90" x="79" y="405.5654">selects the test</text><polygon fill="#A80036" points="596,436.7734,606,440.7734,596,444.7734,600,440.7734" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="380" x2="602" y1="440.7734" y2="440.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="387" y="435.917">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147" x="398" y="435.917">getTestResults(testCode)</text><polygon fill="#A80036" points="1318.5,467.125,1328.5,471.125,1318.5,475.125,1322.5,471.125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="618" x2="1324.5" y1="471.125" y2="471.125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="625" y="466.2686">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="239" x="636" y="466.2686">selectedTest = getTestByCode(testCode)</text><polygon fill="#A80036" points="863,527.4766,873,531.4766,863,535.4766,867,531.4766" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="618" x2="869" y1="531.4766" y2="531.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="625" y="526.6201">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169" x="643" y="526.6201">getTestResults(selectedTest)</text><polygon fill="#A80036" points="1188.5,557.8281,1198.5,561.8281,1188.5,565.8281,1192.5,561.8281" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="885" x2="1194.5" y1="561.8281" y2="561.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="892" y="556.9717">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53" x="910" y="556.9717">toString()</text><polygon fill="#A80036" points="72,618.1797,62,622.1797,72,626.1797,68,622.1797" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="66" x2="374" y1="622.1797" y2="622.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="78" y="617.3232">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="238" x="96" y="617.3232">show results available for the chosen test</text><polygon fill="#A80036" points="358,648.5313,368,652.5313,358,656.5313,362,652.5313" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="61" x2="364" y1="652.5313" y2="652.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="68" y="647.6748">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="86" y="647.6748">writes the report</text><polygon fill="#A80036" points="596,678.8828,606,682.8828,596,686.8828,600,682.8828" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="380" x2="602" y1="682.8828" y2="682.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="387" y="678.0264">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="405" y="678.0264">newReport(text)</text><polygon fill="#A80036" points="1068,709.2344,1078,713.2344,1068,717.2344,1072,713.2344" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="618" x2="1074" y1="713.2344" y2="713.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="625" y="708.3779">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153" x="643" y="708.3779">report = createReport(text)</text><polygon fill="#A80036" points="72,769.5859,62,773.5859,72,777.5859,68,773.5859" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="66" x2="374" y1="773.5859" y2="773.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="78" y="768.7295">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="256" x="96" y="768.7295">validates the report and asks to confirm data</text><polygon fill="#A80036" points="358,799.9375,368,803.9375,358,807.9375,362,803.9375" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="61" x2="364" y1="803.9375" y2="803.9375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="68" y="799.0811">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86" x="86" y="799.0811">confirms report</text><polygon fill="#A80036" points="596,830.2891,606,834.2891,596,838.2891,600,834.2891" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="380" x2="602" y1="834.2891" y2="834.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="387" y="829.4326">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72" x="405" y="829.4326">saveReport()</text><polygon fill="#A80036" points="863,860.6406,873,864.6406,863,868.6406,867,864.6406" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="618" x2="869" y1="864.6406" y2="864.6406"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="625" y="859.7842">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100" x="643" y="859.7842">addReport(report)</text><line style="stroke:#A80036;stroke-width:1.0;" x1="885" x2="932" y1="889.9922" y2="889.9922"/><line style="stroke:#A80036;stroke-width:1.0;" x1="932" x2="932" y1="889.9922" y2="902.9922"/><line style="stroke:#A80036;stroke-width:1.0;" x1="891" x2="932" y1="902.9922" y2="902.9922"/><polygon fill="#A80036" points="901,898.9922,891,902.9922,901,906.9922,897,902.9922" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="897" y="885.1357">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="163" x="915" y="885.1357">changeStateToReportDone()</text><polygon fill="#A80036" points="1068,934.3438,1078,938.3438,1068,942.3438,1072,938.3438" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="890" x2="1074" y1="938.3438" y2="938.3438"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="897" y="933.4873">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144" x="915" y="933.4873">registerReportDateTime()</text><polygon fill="#A80036" points="1542,964.6953,1552,968.6953,1542,972.6953,1546,968.6953" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1090" x2="1548" y1="968.6953" y2="968.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1097" y="963.8389">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="220" x="1115" y="963.8389">createdAt = registerCurrentDateTime()</text><polygon fill="#A80036" points="72,1025.0469,62,1029.0469,72,1033.0469,68,1029.0469" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="66" x2="374" y1="1029.0469" y2="1029.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="78" y="1024.1904">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="267" x="96" y="1024.1904">informs that the report was saved successfully</text><!--MD5=[92042cb37c6b1c761e29d4676ec5d2d1]
@startuml
'https://plantuml.com/sequence-diagram

autonumber

actor "Specialist Doctor" as SD
participant ":WriteReportUI" as UI
participant ":WriteReportController" as CTRL
participant ":Company" as COMP
participant ":Test" as T
participant ":Report" as RPRT
participant ":TestParameterResult" as RSLT
participant ":TestStore" as TS
participant ":TestListMapper" as TLM
participant ":DateTime" as DT

SD -> UI : Write a report for a test
activate UI
UI -> CTRL : lTestDto = getTestWithoutReport()
    activate CTRL
        CTRL -> COMP : testStore = getTestStore()
        activate COMP
        deactivate COMP
        CTRL -> TS : lTestNoReport = getTestWithoutReport()
        activate TS
        deactivate TS
        CTRL -> TLM : lTestNoReportDto = toDto(lTestNoReport)
        activate TLM
        deactivate TLM
    deactivate CTRL
UI - -> SD : ask to select one test ready \n to receive a report from the list
deactivate UI
SD -> UI : selects the test
activate UI
UI -> CTRL : getTestResults(testCode)
    activate CTRL
        CTRL -> TS : selectedTest = getTestByCode(testCode)
        activate TS
        deactivate TS
        CTRL -> T : getTestResults(selectedTest)
        activate T
            T -> RSLT : toString()
            activate RSLT
            deactivate RSLT
        deactivate T
    deactivate CTRL
UI - -> SD : show results available for the chosen test
deactivate UI
SD -> UI : writes the report
activate UI
UI -> CTRL : newReport(text)
    activate CTRL
        CTRL -> RPRT : report = createReport(text)
        activate RPRT
        deactivate RPRT
    deactivate CTRL
UI - -> SD : validates the report and asks to confirm data
deactivate UI
SD -> UI : confirms report
activate UI
UI -> CTRL : saveReport()
    activate CTRL
        CTRL -> T : addReport(report)
        activate T
            T -> T : changeStateToReportDone()
            activate T
                T -> RPRT : registerReportDateTime()
                activate RPRT
                    RPRT -> DT : createdAt = registerCurrentDateTime()
                    activate DT
                    deactivate DT
                deactivate RPRT
            deactivate T
        deactivate T
    deactivate CTRL
UI - -> SD : informs that the report was saved successfully
deactivate UI

@enduml

@startuml

autonumber

actor "Specialist Doctor" as SD
participant ":WriteReportUI" as UI
participant ":WriteReportController" as CTRL
participant ":Company" as COMP
participant ":Test" as T
participant ":Report" as RPRT
participant ":TestParameterResult" as RSLT
participant ":TestStore" as TS
participant ":TestListMapper" as TLM
participant ":DateTime" as DT

SD -> UI : Write a report for a test
activate UI
UI -> CTRL : lTestDto = getTestWithoutReport()
    activate CTRL
        CTRL -> COMP : testStore = getTestStore()
        activate COMP
        deactivate COMP
        CTRL -> TS : lTestNoReport = getTestWithoutReport()
        activate TS
        deactivate TS
        CTRL -> TLM : lTestNoReportDto = toDto(lTestNoReport)
        activate TLM
        deactivate TLM
    deactivate CTRL
UI - -> SD : ask to select one test ready \n to receive a report from the list
deactivate UI
SD -> UI : selects the test
activate UI
UI -> CTRL : getTestResults(testCode)
    activate CTRL
        CTRL -> TS : selectedTest = getTestByCode(testCode)
        activate TS
        deactivate TS
        CTRL -> T : getTestResults(selectedTest)
        activate T
            T -> RSLT : toString()
            activate RSLT
            deactivate RSLT
        deactivate T
    deactivate CTRL
UI - -> SD : show results available for the chosen test
deactivate UI
SD -> UI : writes the report
activate UI
UI -> CTRL : newReport(text)
    activate CTRL
        CTRL -> RPRT : report = createReport(text)
        activate RPRT
        deactivate RPRT
    deactivate CTRL
UI - -> SD : validates the report and asks to confirm data
deactivate UI
SD -> UI : confirms report
activate UI
UI -> CTRL : saveReport()
    activate CTRL
        CTRL -> T : addReport(report)
        activate T
            T -> T : changeStateToReportDone()
            activate T
                T -> RPRT : registerReportDateTime()
                activate RPRT
                    RPRT -> DT : createdAt = registerCurrentDateTime()
                    activate DT
                    deactivate DT
                deactivate RPRT
            deactivate T
        deactivate T
    deactivate CTRL
UI - -> SD : informs that the report was saved successfully
deactivate UI

@enduml

PlantUML version 1.2021.5(Sun Apr 25 12:20:28 BST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: Dynamic Code Evolution 64-Bit Server VM
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>