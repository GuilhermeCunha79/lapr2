<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="781px" preserveAspectRatio="none" style="width:855px;height:781px;" version="1.1" viewBox="0 0 855 781" width="855px" zoomAndPan="magnify"><defs><filter height="300%" id="f4a4pbj9j6da3" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[9681dc6e01e10c6b4fe06895ae94f592]
cluster UI--><polygon fill="#FFFFFF" filter="url(#f4a4pbj9j6da3)" points="304,33.5,324,33.5,331,57.1094,446,57.1094,446,133.5,304,133.5,304,33.5" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="304" x2="331" y1="57.1094" y2="57.1094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="14" x="308" y="50.0332">UI</text><!--MD5=[1f2cfc53d9d308f53762fd0fcbaa4873]
cluster Controller--><polygon fill="#FFFFFF" filter="url(#f4a4pbj9j6da3)" points="470,6,547,6,554,29.6094,654,29.6094,654,161,470,161,470,6" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="470" x2="554" y1="29.6094" y2="29.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="71" x="474" y="22.5332">Controller</text><!--MD5=[121a8bf1197281ab89ed693fab589f94]
cluster Domain--><polygon fill="#FFFFFF" filter="url(#f4a4pbj9j6da3)" points="16,194,74,194,81,217.6094,790,217.6094,790,774,16,774,16,194" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="16" x2="81" y1="217.6094" y2="217.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="52" x="20" y="210.5332">Domain</text><!--MD5=[7ce1723ddb6e6233854253973eae5a71]
cluster Store--><polygon fill="#FFFFFF" filter="url(#f4a4pbj9j6da3)" points="219,238,263,238,270,261.6094,403,261.6094,403,366,219,366,219,238" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="219" x2="270" y1="261.6094" y2="261.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="38" x="223" y="254.5332">Store</text><!--MD5=[0d99d65ace22e45511a90a7e65fdb1f1]
cluster Shared--><polygon fill="#FFFFFF" filter="url(#f4a4pbj9j6da3)" points="582,608,638,608,645,631.6094,766,631.6094,766,750,582,750,582,608" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="582" x2="645" y1="631.6094" y2="631.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="50" x="586" y="624.5332">Shared</text><!--MD5=[701152d03fbf85133a1de050cfdbc7fd]
cluster Mappers--><polygon fill="#FFFFFF" filter="url(#f4a4pbj9j6da3)" points="678,26.5,746,26.5,753,50.1094,838,50.1094,838,140.5,678,140.5,678,26.5" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="678" x2="753" y1="50.1094" y2="50.1094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="62" x="682" y="43.0332">Mappers</text><!--MD5=[71fba8c2abd557a2f7006580273aba3e]
class WriteReportUI--><rect codeLine="3" fill="#FEFECE" filter="url(#f4a4pbj9j6da3)" height="48" id="WriteReportUI" style="stroke:#A80036;stroke-width:1.5;" width="109" x="320.5" y="69.5"/><ellipse cx="335.5" cy="85.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M337.5,82 Q337.7031,81.5 337.9375,81.25 Q338.1719,81 338.4375,81 Q338.9063,81 339.2031,81.2813 Q339.5,81.5625 339.5,82.2188 L339.5,83.7813 Q339.5,84.4375 339.2188,84.7188 Q338.9375,85 338.5,85 Q338.1094,85 337.8594,84.8281 Q337.6094,84.6563 337.5,84.2031 Q337.4531,83.8906 337.2813,83.7188 Q336.9688,83.3906 336.4063,83.2031 Q335.8438,83 335.2813,83 Q334.5781,83 333.9844,83.2813 Q333.4063,83.5625 332.9531,84.1875 Q332.5,84.8125 332.5,85.6719 L332.5,86.5938 Q332.5,87.625 333.3438,88.3125 Q334.1875,89 335.6875,89 Q336.5781,89 337.2031,88.7969 Q337.5625,88.6875 337.9688,88.3281 Q338.2344,88.125 338.375,88.0625 Q338.5156,88 338.6875,88 Q339.0156,88 339.25,88.2656 Q339.5,88.5156 339.5,88.875 Q339.5,89.2188 339.1563,89.625 Q338.6563,90.2188 337.8594,90.5469 Q336.8125,91 335.5313,91 Q334.0313,91 332.8281,90.4063 Q331.8594,89.9375 331.1719,88.9219 Q330.5,87.9063 330.5,86.7031 L330.5,85.6094 Q330.5,84.3594 331.0938,83.2656 Q331.7031,82.1719 332.75,81.5938 Q333.8125,81 335,81 Q335.7188,81 336.3438,81.25 Q336.9688,81.5 337.5,82 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="77" x="349.5" y="90.4102">WriteReportUI</text><line style="stroke:#A80036;stroke-width:1.5;" x1="321.5" x2="428.5" y1="101.5" y2="101.5"/><line style="stroke:#A80036;stroke-width:1.5;" x1="321.5" x2="428.5" y1="109.5" y2="109.5"/><!--MD5=[d7b8916e3117ca4a3ffdab4f31ea783a]
class WriteReportController--><rect codeLine="8" fill="#FEFECE" filter="url(#f4a4pbj9j6da3)" height="103.3438" id="WriteReportController" style="stroke:#A80036;stroke-width:1.5;" width="151" x="486.5" y="42"/><ellipse cx="501.5" cy="58" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M503.5,54.5 Q503.7031,54 503.9375,53.75 Q504.1719,53.5 504.4375,53.5 Q504.9063,53.5 505.2031,53.7813 Q505.5,54.0625 505.5,54.7188 L505.5,56.2813 Q505.5,56.9375 505.2188,57.2188 Q504.9375,57.5 504.5,57.5 Q504.1094,57.5 503.8594,57.3281 Q503.6094,57.1563 503.5,56.7031 Q503.4531,56.3906 503.2813,56.2188 Q502.9688,55.8906 502.4063,55.7031 Q501.8438,55.5 501.2813,55.5 Q500.5781,55.5 499.9844,55.7813 Q499.4063,56.0625 498.9531,56.6875 Q498.5,57.3125 498.5,58.1719 L498.5,59.0938 Q498.5,60.125 499.3438,60.8125 Q500.1875,61.5 501.6875,61.5 Q502.5781,61.5 503.2031,61.2969 Q503.5625,61.1875 503.9688,60.8281 Q504.2344,60.625 504.375,60.5625 Q504.5156,60.5 504.6875,60.5 Q505.0156,60.5 505.25,60.7656 Q505.5,61.0156 505.5,61.375 Q505.5,61.7188 505.1563,62.125 Q504.6563,62.7188 503.8594,63.0469 Q502.8125,63.5 501.5313,63.5 Q500.0313,63.5 498.8281,62.9063 Q497.8594,62.4375 497.1719,61.4219 Q496.5,60.4063 496.5,59.2031 L496.5,58.1094 Q496.5,56.8594 497.0938,55.7656 Q497.7031,54.6719 498.75,54.0938 Q499.8125,53.5 501,53.5 Q501.7188,53.5 502.3438,53.75 Q502.9688,54 503.5,54.5 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="119" x="515.5" y="62.9102">WriteReportController</text><line style="stroke:#A80036;stroke-width:1.5;" x1="487.5" x2="636.5" y1="74" y2="74"/><line style="stroke:#A80036;stroke-width:1.5;" x1="487.5" x2="636.5" y1="82" y2="82"/><ellipse cx="497.5" cy="93" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="112" x="506.5" y="97.4189">getTestWithoutReport()</text><ellipse cx="497.5" cy="106.8359" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="123" x="506.5" y="111.2549">getTestResults(testCode)</text><ellipse cx="497.5" cy="120.6719" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="80" x="506.5" y="125.0908">newReport(text)</text><ellipse cx="497.5" cy="134.5078" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="64" x="506.5" y="138.9268">saveReport()</text><!--MD5=[02e4b9b7573f1156f41e60aa5b4e25a4]
class Company--><rect codeLine="17" fill="#FEFECE" filter="url(#f4a4pbj9j6da3)" height="75.6719" id="Company" style="stroke:#A80036;stroke-width:1.5;" width="96" x="451" y="274"/><ellipse cx="470.95" cy="290" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M472.95,286.5 Q473.1531,286 473.3875,285.75 Q473.6219,285.5 473.8875,285.5 Q474.3563,285.5 474.6531,285.7813 Q474.95,286.0625 474.95,286.7188 L474.95,288.2813 Q474.95,288.9375 474.6688,289.2188 Q474.3875,289.5 473.95,289.5 Q473.5594,289.5 473.3094,289.3281 Q473.0594,289.1563 472.95,288.7031 Q472.9031,288.3906 472.7313,288.2188 Q472.4188,287.8906 471.8563,287.7031 Q471.2938,287.5 470.7313,287.5 Q470.0281,287.5 469.4344,287.7813 Q468.8563,288.0625 468.4031,288.6875 Q467.95,289.3125 467.95,290.1719 L467.95,291.0938 Q467.95,292.125 468.7938,292.8125 Q469.6375,293.5 471.1375,293.5 Q472.0281,293.5 472.6531,293.2969 Q473.0125,293.1875 473.4188,292.8281 Q473.6844,292.625 473.825,292.5625 Q473.9656,292.5 474.1375,292.5 Q474.4656,292.5 474.7,292.7656 Q474.95,293.0156 474.95,293.375 Q474.95,293.7188 474.6063,294.125 Q474.1063,294.7188 473.3094,295.0469 Q472.2625,295.5 470.9813,295.5 Q469.4813,295.5 468.2781,294.9063 Q467.3094,294.4375 466.6219,293.4219 Q465.95,292.4063 465.95,291.2031 L465.95,290.1094 Q465.95,288.8594 466.5438,287.7656 Q467.1531,286.6719 468.2,286.0938 Q469.2625,285.5 470.45,285.5 Q471.1688,285.5 471.7938,285.75 Q472.4188,286 472.95,286.5 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="53" x="486.05" y="294.9102">Company</text><line style="stroke:#A80036;stroke-width:1.5;" x1="452" x2="546" y1="306" y2="306"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="459" y="314"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="53" x="471" y="321.4189">description</text><line style="stroke:#A80036;stroke-width:1.5;" x1="452" x2="546" y1="327.8359" y2="327.8359"/><ellipse cx="462" cy="338.8359" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="70" x="471" y="343.2549">getTestStore()</text><!--MD5=[df38be88ccee13e832d6fafd6288a4ca]
class Test--><rect codeLine="27" fill="#FEFECE" filter="url(#f4a4pbj9j6da3)" height="131.0156" id="Test" style="stroke:#A80036;stroke-width:1.5;" width="164" x="370" y="430"/><ellipse cx="435.75" cy="446" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M437.75,442.5 Q437.9531,442 438.1875,441.75 Q438.4219,441.5 438.6875,441.5 Q439.1563,441.5 439.4531,441.7813 Q439.75,442.0625 439.75,442.7188 L439.75,444.2813 Q439.75,444.9375 439.4688,445.2188 Q439.1875,445.5 438.75,445.5 Q438.3594,445.5 438.1094,445.3281 Q437.8594,445.1563 437.75,444.7031 Q437.7031,444.3906 437.5313,444.2188 Q437.2188,443.8906 436.6563,443.7031 Q436.0938,443.5 435.5313,443.5 Q434.8281,443.5 434.2344,443.7813 Q433.6563,444.0625 433.2031,444.6875 Q432.75,445.3125 432.75,446.1719 L432.75,447.0938 Q432.75,448.125 433.5938,448.8125 Q434.4375,449.5 435.9375,449.5 Q436.8281,449.5 437.4531,449.2969 Q437.8125,449.1875 438.2188,448.8281 Q438.4844,448.625 438.625,448.5625 Q438.7656,448.5 438.9375,448.5 Q439.2656,448.5 439.5,448.7656 Q439.75,449.0156 439.75,449.375 Q439.75,449.7188 439.4063,450.125 Q438.9063,450.7188 438.1094,451.0469 Q437.0625,451.5 435.7813,451.5 Q434.2813,451.5 433.0781,450.9063 Q432.1094,450.4375 431.4219,449.4219 Q430.75,448.4063 430.75,447.2031 L430.75,446.1094 Q430.75,444.8594 431.3438,443.7656 Q431.9531,442.6719 433,442.0938 Q434.0625,441.5 435.25,441.5 Q435.9688,441.5 436.5938,441.75 Q437.2188,442 437.75,442.5 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="24" x="456.25" y="450.9102">Test</text><line style="stroke:#A80036;stroke-width:1.5;" x1="371" x2="533" y1="462" y2="462"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="378" y="470"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="48" x="390" y="477.4189">createdAt</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="378" y="483.8359"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="60" x="390" y="491.2549">internalCode</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="378" y="497.6719"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="43" x="390" y="505.0908">nhsCode</text><line style="stroke:#A80036;stroke-width:1.5;" x1="371" x2="533" y1="511.5078" y2="511.5078"/><ellipse cx="381" cy="522.5078" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="80" x="390" y="526.9268">getTestResults()</text><ellipse cx="381" cy="536.3438" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="87" x="390" y="540.7627">addReport(report)</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="378" y="547.1797"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="138" x="390" y="554.5986">changeStateToReportDone()</text><!--MD5=[4e608140b854dae633589343bce77383]
class TestParameterResult--><rect codeLine="36" fill="#FEFECE" filter="url(#f4a4pbj9j6da3)" height="103.3438" id="TestParameterResult" style="stroke:#A80036;stroke-width:1.5;" width="150" x="32" y="444"/><ellipse cx="47" cy="460" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M49,456.5 Q49.2031,456 49.4375,455.75 Q49.6719,455.5 49.9375,455.5 Q50.4063,455.5 50.7031,455.7813 Q51,456.0625 51,456.7188 L51,458.2813 Q51,458.9375 50.7188,459.2188 Q50.4375,459.5 50,459.5 Q49.6094,459.5 49.3594,459.3281 Q49.1094,459.1563 49,458.7031 Q48.9531,458.3906 48.7813,458.2188 Q48.4688,457.8906 47.9063,457.7031 Q47.3438,457.5 46.7813,457.5 Q46.0781,457.5 45.4844,457.7813 Q44.9063,458.0625 44.4531,458.6875 Q44,459.3125 44,460.1719 L44,461.0938 Q44,462.125 44.8438,462.8125 Q45.6875,463.5 47.1875,463.5 Q48.0781,463.5 48.7031,463.2969 Q49.0625,463.1875 49.4688,462.8281 Q49.7344,462.625 49.875,462.5625 Q50.0156,462.5 50.1875,462.5 Q50.5156,462.5 50.75,462.7656 Q51,463.0156 51,463.375 Q51,463.7188 50.6563,464.125 Q50.1563,464.7188 49.3594,465.0469 Q48.3125,465.5 47.0313,465.5 Q45.5313,465.5 44.3281,464.9063 Q43.3594,464.4375 42.6719,463.4219 Q42,462.4063 42,461.2031 L42,460.1094 Q42,458.8594 42.5938,457.7656 Q43.2031,456.6719 44.25,456.0938 Q45.3125,455.5 46.5,455.5 Q47.2188,455.5 47.8438,455.75 Q48.4688,456 49,456.5 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="118" x="61" y="464.9102">TestParameterResult</text><line style="stroke:#A80036;stroke-width:1.5;" x1="33" x2="181" y1="476" y2="476"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="40" y="484"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="48" x="52" y="491.4189">createdAt</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="40" y="497.8359"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="26" x="52" y="505.2549">value</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="40" y="511.6719"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="29" x="52" y="519.0908">metric</text><line style="stroke:#A80036;stroke-width:1.5;" x1="33" x2="181" y1="525.5078" y2="525.5078"/><ellipse cx="43" cy="536.5078" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="45" x="52" y="540.9268">toString()</text><!--MD5=[f00dbe8c0302c6aec2cb26b3c659c8fc]
class Report--><rect codeLine="43" fill="#FEFECE" filter="url(#f4a4pbj9j6da3)" height="89.5078" id="Report" style="stroke:#A80036;stroke-width:1.5;" width="147" x="626.5" y="450.5"/><ellipse cx="677.25" cy="466.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M679.25,463 Q679.4531,462.5 679.6875,462.25 Q679.9219,462 680.1875,462 Q680.6563,462 680.9531,462.2813 Q681.25,462.5625 681.25,463.2188 L681.25,464.7813 Q681.25,465.4375 680.9688,465.7188 Q680.6875,466 680.25,466 Q679.8594,466 679.6094,465.8281 Q679.3594,465.6563 679.25,465.2031 Q679.2031,464.8906 679.0313,464.7188 Q678.7188,464.3906 678.1563,464.2031 Q677.5938,464 677.0313,464 Q676.3281,464 675.7344,464.2813 Q675.1563,464.5625 674.7031,465.1875 Q674.25,465.8125 674.25,466.6719 L674.25,467.5938 Q674.25,468.625 675.0938,469.3125 Q675.9375,470 677.4375,470 Q678.3281,470 678.9531,469.7969 Q679.3125,469.6875 679.7188,469.3281 Q679.9844,469.125 680.125,469.0625 Q680.2656,469 680.4375,469 Q680.7656,469 681,469.2656 Q681.25,469.5156 681.25,469.875 Q681.25,470.2188 680.9063,470.625 Q680.4063,471.2188 679.6094,471.5469 Q678.5625,472 677.2813,472 Q675.7813,472 674.5781,471.4063 Q673.6094,470.9375 672.9219,469.9219 Q672.25,468.9063 672.25,467.7031 L672.25,466.6094 Q672.25,465.3594 672.8438,464.2656 Q673.4531,463.1719 674.5,462.5938 Q675.5625,462 676.75,462 Q677.4688,462 678.0938,462.25 Q678.7188,462.5 679.25,463 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="37" x="697.75" y="471.4102">Report</text><line style="stroke:#A80036;stroke-width:1.5;" x1="627.5" x2="772.5" y1="482.5" y2="482.5"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="634.5" y="490.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="48" x="646.5" y="497.9189">createdAt</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="634.5" y="504.3359"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="50" x="646.5" y="511.7549">reportText</text><line style="stroke:#A80036;stroke-width:1.5;" x1="627.5" x2="772.5" y1="518.1719" y2="518.1719"/><ellipse cx="637.5" cy="529.1719" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="121" x="646.5" y="533.5908">registerReportDateTime()</text><!--MD5=[0f6f7964b844a64b0496af0dda7914bd]
class TestStore--><rect codeLine="22" fill="#FEFECE" filter="url(#f4a4pbj9j6da3)" height="75.6719" id="TestStore" style="stroke:#A80036;stroke-width:1.5;" width="151" x="235.5" y="274"/><ellipse cx="280.25" cy="290" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M282.25,286.5 Q282.4531,286 282.6875,285.75 Q282.9219,285.5 283.1875,285.5 Q283.6563,285.5 283.9531,285.7813 Q284.25,286.0625 284.25,286.7188 L284.25,288.2813 Q284.25,288.9375 283.9688,289.2188 Q283.6875,289.5 283.25,289.5 Q282.8594,289.5 282.6094,289.3281 Q282.3594,289.1563 282.25,288.7031 Q282.2031,288.3906 282.0313,288.2188 Q281.7188,287.8906 281.1563,287.7031 Q280.5938,287.5 280.0313,287.5 Q279.3281,287.5 278.7344,287.7813 Q278.1563,288.0625 277.7031,288.6875 Q277.25,289.3125 277.25,290.1719 L277.25,291.0938 Q277.25,292.125 278.0938,292.8125 Q278.9375,293.5 280.4375,293.5 Q281.3281,293.5 281.9531,293.2969 Q282.3125,293.1875 282.7188,292.8281 Q282.9844,292.625 283.125,292.5625 Q283.2656,292.5 283.4375,292.5 Q283.7656,292.5 284,292.7656 Q284.25,293.0156 284.25,293.375 Q284.25,293.7188 283.9063,294.125 Q283.4063,294.7188 282.6094,295.0469 Q281.5625,295.5 280.2813,295.5 Q278.7813,295.5 277.5781,294.9063 Q276.6094,294.4375 275.9219,293.4219 Q275.25,292.4063 275.25,291.2031 L275.25,290.1094 Q275.25,288.8594 275.8438,287.7656 Q276.4531,286.6719 277.5,286.0938 Q278.5625,285.5 279.75,285.5 Q280.4688,285.5 281.0938,285.75 Q281.7188,286 282.25,286.5 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="53" x="300.75" y="294.9102">TestStore</text><line style="stroke:#A80036;stroke-width:1.5;" x1="236.5" x2="385.5" y1="306" y2="306"/><line style="stroke:#A80036;stroke-width:1.5;" x1="236.5" x2="385.5" y1="314" y2="314"/><ellipse cx="246.5" cy="325" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="112" x="255.5" y="329.4189">getTestWithoutReport()</text><ellipse cx="246.5" cy="338.8359" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="125" x="255.5" y="343.2549">getTestByCode(testCode)</text><!--MD5=[20ddef7090025b04fb973268620c0974]
class DateTime--><rect codeLine="49" fill="#FEFECE" filter="url(#f4a4pbj9j6da3)" height="89.5078" id="DateTime" style="stroke:#A80036;stroke-width:1.5;" width="151" x="598.5" y="644"/><ellipse cx="642.75" cy="660" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M644.75,656.5 Q644.9531,656 645.1875,655.75 Q645.4219,655.5 645.6875,655.5 Q646.1563,655.5 646.4531,655.7813 Q646.75,656.0625 646.75,656.7188 L646.75,658.2813 Q646.75,658.9375 646.4688,659.2188 Q646.1875,659.5 645.75,659.5 Q645.3594,659.5 645.1094,659.3281 Q644.8594,659.1563 644.75,658.7031 Q644.7031,658.3906 644.5313,658.2188 Q644.2188,657.8906 643.6563,657.7031 Q643.0938,657.5 642.5313,657.5 Q641.8281,657.5 641.2344,657.7813 Q640.6563,658.0625 640.2031,658.6875 Q639.75,659.3125 639.75,660.1719 L639.75,661.0938 Q639.75,662.125 640.5938,662.8125 Q641.4375,663.5 642.9375,663.5 Q643.8281,663.5 644.4531,663.2969 Q644.8125,663.1875 645.2188,662.8281 Q645.4844,662.625 645.625,662.5625 Q645.7656,662.5 645.9375,662.5 Q646.2656,662.5 646.5,662.7656 Q646.75,663.0156 646.75,663.375 Q646.75,663.7188 646.4063,664.125 Q645.9063,664.7188 645.1094,665.0469 Q644.0625,665.5 642.7813,665.5 Q641.2813,665.5 640.0781,664.9063 Q639.1094,664.4375 638.4219,663.4219 Q637.75,662.4063 637.75,661.2031 L637.75,660.1094 Q637.75,658.8594 638.3438,657.7656 Q638.9531,656.6719 640,656.0938 Q641.0625,655.5 642.25,655.5 Q642.9688,655.5 643.5938,655.75 Q644.2188,656 644.75,656.5 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="54" x="663.25" y="664.9102">DateTime</text><line style="stroke:#A80036;stroke-width:1.5;" x1="599.5" x2="748.5" y1="676" y2="676"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="606.5" y="684"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="21" x="618.5" y="691.4189">date</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="606.5" y="697.8359"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="19" x="618.5" y="705.2549">time</text><line style="stroke:#A80036;stroke-width:1.5;" x1="599.5" x2="748.5" y1="711.6719" y2="711.6719"/><ellipse cx="609.5" cy="722.6719" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="125" x="618.5" y="727.0908">registerCurrentDateTime()</text><!--MD5=[f97b8c00cb514ace9cb97c2a996fb712]
class TestListMapper--><rect codeLine="58" fill="#FEFECE" filter="url(#f4a4pbj9j6da3)" height="61.8359" id="TestListMapper" style="stroke:#A80036;stroke-width:1.5;" width="127" x="694.5" y="62.5"/><ellipse cx="714" cy="78.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M716,75 Q716.2031,74.5 716.4375,74.25 Q716.6719,74 716.9375,74 Q717.4063,74 717.7031,74.2813 Q718,74.5625 718,75.2188 L718,76.7813 Q718,77.4375 717.7188,77.7188 Q717.4375,78 717,78 Q716.6094,78 716.3594,77.8281 Q716.1094,77.6563 716,77.2031 Q715.9531,76.8906 715.7813,76.7188 Q715.4688,76.3906 714.9063,76.2031 Q714.3438,76 713.7813,76 Q713.0781,76 712.4844,76.2813 Q711.9063,76.5625 711.4531,77.1875 Q711,77.8125 711,78.6719 L711,79.5938 Q711,80.625 711.8438,81.3125 Q712.6875,82 714.1875,82 Q715.0781,82 715.7031,81.7969 Q716.0625,81.6875 716.4688,81.3281 Q716.7344,81.125 716.875,81.0625 Q717.0156,81 717.1875,81 Q717.5156,81 717.75,81.2656 Q718,81.5156 718,81.875 Q718,82.2188 717.6563,82.625 Q717.1563,83.2188 716.3594,83.5469 Q715.3125,84 714.0313,84 Q712.5313,84 711.3281,83.4063 Q710.3594,82.9375 709.6719,81.9219 Q709,80.9063 709,79.7031 L709,78.6094 Q709,77.3594 709.5938,76.2656 Q710.2031,75.1719 711.25,74.5938 Q712.3125,74 713.5,74 Q714.2188,74 714.8438,74.25 Q715.4688,74.5 716,75 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="85" x="729" y="83.4102">TestListMapper</text><line style="stroke:#A80036;stroke-width:1.5;" x1="695.5" x2="820.5" y1="94.5" y2="94.5"/><line style="stroke:#A80036;stroke-width:1.5;" x1="695.5" x2="820.5" y1="102.5" y2="102.5"/><ellipse cx="705.5" cy="113.5" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="101" x="714.5" y="117.9189">toDto(lTestNoReport)</text><!--MD5=[4ff913b72b026e4c95390310e4df5ddd]
link WriteReportUI to WriteReportController--><path codeLine="63" d="M429.79,93.5 C446.87,93.5 463.95,93.5 481.04,93.5 " fill="none" id="WriteReportUI-to-WriteReportController" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="486.34,93.5,477.34,89.5,481.34,93.5,477.34,97.5,486.34,93.5" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[a3405a5a29c0a1359ce5b85a18cd6043]
link WriteReportController to Company--><path codeLine="64" d="M547.23,145.26 C536.31,182.78 521.61,233.29 511.32,268.65 " fill="none" id="WriteReportController-to-Company" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="509.84,273.76,516.1734,266.2176,511.223,268.9551,508.4855,264.0047,509.84,273.76" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[aa4aa685cc8a1bee089823f9a2dac854]
link WriteReportController to TestStore--><path codeLine="65" d="M489.77,145.11 C475.64,153.79 460.65,162.19 446,169 C422.8,179.79 411.36,170.5 391,186 C362.8,207.46 341.81,241.95 328.42,269.26 " fill="none" id="WriteReportController-to-TestStore" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="326.17,273.93,333.6838,267.5627,328.3429,269.4269,326.4788,264.086,326.17,273.93" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[5f7e16a0d3ad367d3a8be993a13d813b]
link WriteReportController to TestListMapper--><path codeLine="66" d="M637.8,93.5 C654.82,93.5 671.84,93.5 688.86,93.5 " fill="none" id="WriteReportController-to-TestListMapper" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="694.14,93.5,685.14,89.5,689.14,93.5,685.14,97.5,694.14,93.5" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[7278674e9ca3925782f5c87c1bd9dd49]
link WriteReportController to Test--><path codeLine="67" d="M573.58,145.25 C584.27,202.87 594.47,298.64 565,374 C557.63,392.84 545.75,410.44 532.4,426.06 " fill="none" id="WriteReportController-to-Test" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="528.98,429.99,537.9079,425.8316,532.2644,426.22,531.876,420.5765,528.98,429.99" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[282cfc7c590a34915ae3d174e5d7b309]
link WriteReportController to Report--><path codeLine="68" d="M589.65,145.34 C594.76,155.66 599.8,166.56 604,177 C641.14,269.37 671.9,381.79 687.96,445.05 " fill="none" id="WriteReportController-to-Report" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="689.28,450.26,690.9777,440.5586,688.0673,445.4093,683.2166,442.4989,689.28,450.26" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[7e4bc624457760b649895ff2ead938fa]
link Company to Test--><path codeLine="69" d="M489.38,350.17 C483.81,371.65 476.63,399.39 470.05,424.79 " fill="none" id="Company-to-Test" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="468.74,429.84,474.873,422.1338,469.9963,425.0004,467.1297,420.1237,468.74,429.84" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50" x="482" y="396.4951">performs</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="480.289" y="371.0776">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="5" x="465.2975" y="419.2969">*</text><!--MD5=[adb81e9626eab0b9608444eaf57ecc00]
reverse link TestStore to Company--><path codeLine="70" d="M391.75,312 C411.85,312 432.79,312 450.77,312 " fill="none" id="TestStore-backto-Company" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="386.65,312,395.65,316,391.65,312,395.65,308,386.65,312" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="28" x="404.75" y="305.4951">uses</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="394.4413" y="308.7411">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="435.8488" y="308.3222">1</text><!--MD5=[b0f4f6db8206580012ef9cd998ed01c5]
link TestStore to Test--><path codeLine="71" d="M339.87,350.17 C356.78,371.92 378.65,400.08 398.58,425.74 " fill="none" id="TestStore-to-Test" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="401.77,429.84,399.4164,420.2765,398.7062,425.8886,393.0941,425.1785,401.77,429.84" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="29" x="378" y="396.4951">store</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="336.9133" y="371.0776">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="5" x="391.0027" y="419.2969">*</text><!--MD5=[12189d12e156ffd517416dd9dd697e80]
reverse link Report to Test--><path codeLine="72" d="M621.2,495.5 C593.47,495.5 562.24,495.5 534.24,495.5 " fill="none" id="Report-backto-Test" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="626.34,495.5,617.34,491.5,621.34,495.5,617.34,499.5,626.34,495.5" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="56" x="552.25" y="488.9951">originates</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="611.3829" y="492.2136">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="541.8762" y="492.2976">1</text><!--MD5=[5c6904ccd9905be79ae840623f750d86]
reverse link TestParameterResult to Test--><path codeLine="73" d="M187.54,495.5 C242.39,495.5 314.77,495.5 369.94,495.5 " fill="none" id="TestParameterResult-backto-Test" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="182.29,495.5,191.29,499.5,187.29,495.5,191.29,491.5,182.29,495.5" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151" x="200.5" y="488.9951">analyses parameter to get</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="5" x="189.9475" y="492.208">*</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="355.0524" y="492.2731">1</text><!--MD5=[771f0fa6b0afbf09ba650c9f16b9ddc4]
link Report to DateTime--><path codeLine="74" d="M693.97,540.92 C690,570.16 684.8,608.48 680.7,638.67 " fill="none" id="Report-to-DateTime" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="680,643.83,685.175,635.4503,680.673,638.8755,677.2478,634.3735,680,643.83" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[f9d75fac1e218e5a2c065eee3a05f134]
@startuml

package UI {
class WriteReportUI {
}
}

package Controller {
class WriteReportController {
    +getTestWithoutReport()
    +getTestResults(testCode)
    +newReport(text)
    +saveReport()
}
}

package Domain {
class Company {
    -description
    +getTestStore()
}
package Store {
class TestStore {
    +getTestWithoutReport()
    +getTestByCode(testCode)
}
}
class Test {
    -createdAt
    -internalCode
    -nhsCode
    +getTestResults()
    +addReport(report)
    -changeStateToReportDone()
}

class TestParameterResult {
    -createdAt
    -value
    -metric
    +toString()
}

class Report {
    -createdAt
    -reportText
    +registerReportDateTime()
}
package Shared {
class DateTime {
    -date
    -time
    +registerCurrentDateTime()
}
}
}

package Mappers {
class TestListMapper {
    +toDto(lTestNoReport)
}
}

WriteReportUI .right.> WriteReportController
WriteReportController ..> Company
WriteReportController ..> TestStore
WriteReportController .right.> TestListMapper
WriteReportController ..> Test
WriteReportController ..> Report
Company"1" - -> "*"Test : "performs"
Company"1" -left-> "1"TestStore : "uses"
TestStore"1" - -> "*"Test : "store"
Test"1" -left-> "1"Report : "originates"
Test"1" -left-> "*"TestParameterResult : "analyses parameter to get"
Report ..> DateTime

@enduml

PlantUML version 1.2021.5(Sun Apr 25 12:20:28 BST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: Dynamic Code Evolution 64-Bit Server VM
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>