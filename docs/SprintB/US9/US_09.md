# US 09 - XXXX XXXX

## 1. Requirements Engineering

*In this section, it is suggested to capture the requirement description and specifications as provided by the client as well as any further clarification on it. It is also suggested to capture the requirements acceptance criteria and existing dependencies to other requirements. At last, identfy the involved input and output data and depicted an Actor-System interaction in order to fulfill the requirement.*

### 1.1. User Story Description

* As an administrator, I want to specify a new type of test and its collecting methods.

### 1.2. Customer Specifications and Clarifications 
*From the Specification Document:*

>"Each test is characterized by an internal code, an NHS
code, a description that identifies the sample collection method, the date and time when the samples
were collected, the date and time of the chemical analysis, the date and time of the diagnosis made
by the specialist doctor, the date and time when the laboratory coordinator validated the test, and the
test type (whether it is blood test or Covid test)."

>"Despite being out of scope, the system should be developed having in mind the need to
easily support other kinds of tests (e.g., urine). Regardless, such tests rely on measuring one
or more parameters that can be grouped/organized by categories."

*From the client clarifications:*

> **Question:** In the US9 what do you mean by the collecting methods and  what collecting methods  are available?
>
> **Answer:** To make a Covid test you need a swab to collect a sample. To make a blood test you need sample tubes and a syringe.
>When the administrator (US9) specifies a new type of test, the administrator also specifies the method to collect a sample.
> The administrator introduces a brief description for each collecting method.

>**Question:** Does a type of test holds any attribute besides it's name and collecting methods?
>
>**Answer:**The attributes for a new test type are:
            Code: five alphanumeric characters. The code is not automatically generated.
            Description: a string with no more than 15 characters.
            Collecting Method: a string with no more than 20 characters.
            Each test type should have a set of categories. Each category should be chosen from a list of categories.
            From a previous post: "Each category has a name and a unique code. There are no subcategories."




### 1.3. Acceptance Criteria

* **AC1:** All required fields must be filled in.
* **AC2:** The colecting method description neds the materials used and have no more than 20 characters.
* **AC3:** The code must have 5 alphanumeric characters written.
* **AC4:** The Description must have no more than 15 characters.
* **AC5:** There exists only one collection method per test type.


### 1.4. Found out Dependencies

### 1.5 Input and Output Data

**Input Data:**
* Typed data:
    *code
    *description
    *collecting method
    
* Selected data:
    *Cathegory
 
**Output Data:**
*(In)Success of the operation

### 1.6. System Sequence Diagram (SSD)

![UC9_SSD]

### 1.7 Other Relevant Remarks



## 2. OO Analysis

### 2.1. Relevant Domain Model Excerpt 

![UC9_MD]

### 2.2. Other Remarks

n/a


## 3. Design - User Story Realization 

### 3.1. Rationale
**SSD - Alternative 1 is adopted.**

| Interaction ID | Question: Which class is responsible for... | Answer  | Justification (with patterns)  |
|:-------------  |:--------------------- |:------------|:---------------------------- |
| Step 1  		 |	... interacting with the actor? | SpecifieANewTypeOfTestUI |  Pure Fabrication: there is no reason to assign this responsibility to any existing class in the Domain Model.           |
| 			  		 |	... coordinating the US? | SpecifieANewTypeOfTestController | Controller                             |
| 			  		 |	... instantiating a new Type of Test? | Administrator   | 
| 			  		 | ... knowing the user using the system?  | UserSession  | IE: cf. A&A component documentation.  |
| 			  		 |	... knowing to which organization the user belongs to? | Platform  | IE: has registed all Organizations |
| 			  		 |							 | Administrator   | IE: knows/has its own Types of tests|
| 			  		 |							 | TypeOfTest  | IE: knows its own data (e.g. NHS) |
| Step 2  		 |							 |             |                              |
| Step 3  		 |	...saving the inputted data? | TypeOfTest | IE: object created in step 1 has its own data.  |
| Step 4  		 |	                         |            |                               |
| Step 5  		 |	... saving the selected category? | TypeOfTest | IE: object created in step 1 is classified in one Type of test category.  |
| Step 6  		 |							 |             |                              |              
| Step 7  		 |	... validating all data (local validation)? | TypeOfTest | IE: owns its data.| 
| 			  		 |	... validating all data (global validation)? | Administrator | IE: knows all its Types of test.| 
| 			  		 |	... saving the created specified type of test? | TypeOfTest | IE: owns all its .| 
| Step 8  		 |	... informing operation success?| SpecifieANewTypeOfTestUI  | IE: is responsible for user interactions.  | 

### Systematization ##

According to the taken rationale, the conceptual classes promoted to software classes are: 

 * Administrator
 * Platform
 * TypeOfTest

Other software classes (i.e. Pure Fabrication) identified: 

 *  SpecifieANewTypeOfTestUI
 * SpecifieANewTypeOfTestController
 
## 3.2. Sequence Diagram (SD)


![UC9_SD]


## 3.3. Class Diagram (CD)


![UC9_CD]

# 4. Tests 

**Test 1:** Check that it is not possible to create an instance of the NewParameterCategory class with same parameters as an existing parameter category - AC3.

	@Test(expected = IllegalArgumentException.class)
		public void ensureNullIsNotAllowed() {
		Task instance = new Task(null, null, null, null, null, null, null);
	}
	

**Test 2:** Check that it is not possible to create an instance of the NewParameterCategory class with no parameters assigned to it - AC1.

	@Test(expected = IllegalArgumentException.class)
		public void ensureReferenceMeetsAC2() {
		Category cat = new Category(10, "Category 10");
		
		Task instance = new Task("Ab1", "Task Description", "Informal Data", "Technical Data", 3, 3780, cat);
	}




# 5. Construction (Implementation)


## Class CreateTaskController 

		


## Class Organization




# 6. Integration and Demo 




# 7. Observations