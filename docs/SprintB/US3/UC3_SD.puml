@startuml
autonumber
'hide footbox
actor "Receptionist" as RECEP

participant ":CreateClient \n RegisterClientUI" as UI
participant ":CreateClient \n RegisterClientController" as CTRL
participant ":Company" as C
participant "ct: Client" as CL



RECEP -> UI : register a new client
activate UI
    UI --> RECEP : request mandatory data (name, citizen card number, NHS number,\n TIN number, birth day, sex) and optional data (phone number)
deactivate UI

RECEP -> UI : inserts the required data
activate UI
    UI -> CTRL : newClient(name, citizen card number,TIN number, birth date, sex)
    activate CTRL

        CTRL -> C: client = newClient(name, citizen card number,\n TIN number, birth date, sex)

        activate C
        C --> CL** : create(newClient)
        deactivate C

        CTRL -> C : validateClient(ct)
        activate C
        deactivate C

        CTRL --> UI : result

    deactivate CTRL
    UI --> RECEP : shows the data and asks for confirmation
deactivate UI
RECEP -> UI : confirms the data
activate UI

    UI -> CTRL : saveClient()

activate CTRL
    CTRL -> C : saveClient(client)

activate C

    C -> C : validateClient(client)
    activate C
    deactivate C
    C -> C : addClient(client)
    activate C
    deactivate C
    deactivate C
    CTRL --> UI : result

UI --> RECEP : saves data and informs success of operation
deactivate C
deactivate UI
deactivate CTRL

@enduml
